if(void 0===helper)var helper={};helper.arr={multisort:function(a,t,s){if(void 0===t)for(t=[],x=0;x<a[0].length;x++)t.push(x);if(void 0===s)for(s=[],x=0;x<a[0].length;x++)s.push("ASC");return a.sort(function(a,e){return function a(e,t,s,i,n){var o="DESC"==i[n]?1:0,r=!isNaN(+e[s[n]]-+t[s[n]]),l=r?+e[s[n]]:e[s[n]].toLowerCase(),c=r?+t[s[n]]:t[s[n]].toLowerCase();return l<c?0==o?-1:1:l==c?s.length-1>n?a(e,t,s,i,n+1):0:0==o?1:-1}(a,e,t,s,0)})}},function(i){i.fn.popupWindow=function(s){return this.each(function(){i.fn.popupWindow.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0},settings=i.extend({},i.fn.popupWindow.defaultSettings,s||{});var a,e,t="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;return settings.windowName=settings.windowName||this.name,settings.windowURL=settings.windowURL||this.href,settings.centerBrowser?(e=i.browser.msie?(a=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(a=window.screenY+(window.outerHeight/2-settings.height/2),window.screenX+(window.outerWidth/2-settings.width/2)),window.open(settings.windowURL,settings.windowName,t+",left="+e+",top="+a).focus()):settings.centerScreen?(a=(screen.height-settings.height)/2,e=(screen.width-settings.width)/2,window.open(settings.windowURL,settings.windowName,t+",left="+e+",top="+a).focus()):window.open(settings.windowURL,settings.windowName,t+",left="+settings.left+",top="+settings.top).focus(),!1})}}(jQuery),function(a,e){"function"==typeof define&&define.amd?define(["jquery"],e):e(a.jQuery)}(this,function(a){var e,i,c;!function(p){var n,o,h,f,m={},b={},g={},v={},t=Object.prototype.hasOwnProperty,s=[].slice,w=/\.js$/;function y(a,e){return t.call(a,e)}function r(a,e){var t,s,i,n,o,r,l,c,d,u,p,h=e&&e.split("/"),f=g.map,m=f&&f["*"]||{};if(a&&"."===a.charAt(0))if(e){for(h=h.slice(0,h.length-1),o=(a=a.split("/")).length-1,g.nodeIdCompat&&w.test(a[o])&&(a[o]=a[o].replace(w,"")),a=h.concat(a),d=0;d<a.length;d+=1)if("."===(p=a[d]))a.splice(d,1),d-=1;else if(".."===p){if(1===d&&(".."===a[2]||".."===a[0]))break;0<d&&(a.splice(d-1,2),d-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((h||m)&&f){for(d=(t=a.split("/")).length;0<d;d-=1){if(s=t.slice(0,d).join("/"),h)for(u=h.length;0<u;u-=1)if((i=f[h.slice(0,u).join("/")])&&(i=i[s])){n=i,r=d;break}if(n)break;!l&&m&&m[s]&&(l=m[s],c=d)}!n&&l&&(n=l,r=c),n&&(t.splice(0,r,n),a=t.join("/"))}return a}function C(a,e){return function(){return o.apply(p,s.call(arguments,0).concat([a,e]))}}function x(e){return function(a){m[e]=a}}function P(a){if(y(b,a)){var e=b[a];delete b[a],v[a]=!0,n.apply(p,e)}if(!y(m,a)&&!y(v,a))throw new Error("No "+a);return m[a]}function l(a){var e,t=a?a.indexOf("!"):-1;return-1<t&&(e=a.substring(0,t),a=a.substring(t+1,a.length)),[e,a]}h=function(a,e){var t,s,i=l(a),n=i[0];return a=i[1],n&&(t=P(n=r(n,e))),n?a=t&&t.normalize?t.normalize(a,(s=e,function(a){return r(a,s)})):r(a,e):(n=(i=l(a=r(a,e)))[0],a=i[1],n&&(t=P(n))),{f:n?n+"!"+a:a,n:a,pr:n,p:t}},f={require:function(a){return C(a)},exports:function(a){var e=m[a];return void 0!==e?e:m[a]={}},module:function(a){return{id:a,uri:"",exports:m[a],config:(e=a,function(){return g&&g.config&&g.config[e]||{}})};var e}},n=function(a,e,t,s){var i,n,o,r,l,c,d=[],u=typeof t;if(s=s||a,"undefined"===u||"function"===u){for(e=!e.length&&t.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if("require"===(n=(r=h(e[l],s)).f))d[l]=f.require(a);else if("exports"===n)d[l]=f.exports(a),c=!0;else if("module"===n)i=d[l]=f.module(a);else if(y(m,n)||y(b,n)||y(v,n))d[l]=P(n);else{if(!r.p)throw new Error(a+" missing "+n);r.p.load(r.n,C(s,!0),x(n),{}),d[l]=m[n]}o=t?t.apply(m[a],d):void 0,a&&(i&&i.exports!==p&&i.exports!==m[a]?m[a]=i.exports:o===p&&c||(m[a]=o))}else a&&(m[a]=t)},e=i=o=function(a,e,t,s,i){if("string"==typeof a)return f[a]?f[a](e):P(h(a,e).f);if(!a.splice){if((g=a).deps&&o(g.deps,g.callback),!e)return;e.splice?(a=e,e=t,t=null):a=p}return e=e||function(){},"function"==typeof t&&(t=s,s=i),s?n(p,a,e,t):setTimeout(function(){n(p,a,e,t)},4),o},o.config=function(a){return o(a)},e._defined=m,(c=function(a,e,t){e.splice||(t=e,e=[]),y(m,a)||y(b,a)||(b[a]=[a,e,t])}).amd={jQuery:!0}}(),c("almond",function(){}),c("visualcaptcha/core",[],function(){"use strict";var i,t,s,n,o,r,l,c;return i=function(a,e,t){return t=t||[],a.namespace&&0<a.namespace.length&&t.push(a.namespaceFieldName+"="+a.namespace),t.push(a.randomParam+"="+a.randomNonce),e+"&"+t.join("&")},t=function(e){var a,t=this;e.applyRandomNonce(),e.isLoading=!0,a=s(e),e._loading(t),e.callbacks.loading&&e.callbacks.loading(t),e.request(a,function(a){a.audioFieldName&&(e.audioFieldName=a.audioFieldName),a.imageFieldName&&(e.imageFieldName=a.imageFieldName),a.imageName&&(e.imageName=a.imageName),a.values&&(e.imageValues=a.values),e.isLoading=!1,e.hasLoaded=!0,e._loaded(t),e.callbacks.loaded&&e.callbacks.loaded(t)})},s=function(a){var e=a.url+a.routes.start+"&_img="+a.numberOfImages;return i(a,e)},n=function(a,e){var t="",s=[];return e<0||e>=a.numberOfImages?t:(this.isRetina()&&s.push("retina=1"),t=a.url+a.routes.image+"&_id="+e,i(a,t,s))},o=function(a,e){var t=a.url+a.routes.audio;return e&&(t+="/ogg"),i(a,t)},r=function(a,e){return 0<=e&&e<a.numberOfImages?a.imageValues[e]:""},l=function(){return void 0!==window.devicePixelRatio&&1<window.devicePixelRatio},c=function(){var a=!1;try{document.createElement("audio").canPlayType&&(a=!0)}catch(a){}return a},function(e){var a;return a={refresh:function(){return t.call(this,e)},isLoading:function(){return e.isLoading},hasLoaded:function(){return e.hasLoaded},numberOfImages:function(){return e.imageValues.length},imageName:function(){return e.imageName},imageValue:function(a){return r.call(this,e,a)},imageUrl:function(a){return n.call(this,e,a)},audioUrl:function(a){return o.call(this,e,a)},imageFieldName:function(){return e.imageFieldName},audioFieldName:function(){return e.audioFieldName},namespace:function(){return e.namespace},namespaceFieldName:function(){return e.namespaceFieldName},isRetina:l,supportsAudio:c},e.autoRefresh&&a.refresh(),a}}),c("visualcaptcha/xhr-request",[],function(){"use strict";var s=window.XMLHttpRequest;return function(a,e){var t=new s;t.open("GET",a,!0),t.onreadystatechange=function(){var a;4===t.readyState&&200===t.status&&(a=JSON.parse(t.responseText),e(a))},t.send()}}),c("visualcaptcha/config",["visualcaptcha/xhr-request"],function(s){"use strict";return function(a){var e=window.location.href.split("/");e[e.length-1]="";var t={request:s,url:e.join("/").slice(0,-1),namespace:"",namespaceFieldName:"namespace",routes:{start:"/start",image:"/image",audio:"/audio"},isLoading:!1,hasLoaded:!1,autoRefresh:!0,numberOfImages:6,randomNonce:"",randomParam:"r",audioFieldName:"",imageFieldName:"",imageName:"",imageValues:[],callbacks:{},_loading:function(){},_loaded:function(){},applyRandomNonce:function(){return t.randomNonce=Math.random().toString(36).substring(2)}};return a.request&&(t.request=a.request),a.url&&(t.url=a.url),a.namespace&&(t.namespace=a.namespace),a.namespaceFieldName&&(t.namespaceFieldName=a.namespaceFieldName),void 0!==a.autoRefresh&&(t.autoRefresh=a.autoRefresh),a.numberOfImages&&(t.numberOfImages=a.numberOfImages),a.routes&&(a.routes.start&&(t.routes.start=a.routes.start),a.routes.image&&(t.routes.image=a.routes.image),a.routes.audio&&(t.routes.audio=a.routes.audio)),a.randomParam&&(t.randomParam=a.randomParam),a.callbacks&&(a.callbacks.loading&&(t.callbacks.loading=a.callbacks.loading),a.callbacks.loaded&&(t.callbacks.loaded=a.callbacks.loaded)),a._loading&&(t._loading=a._loading),a._loaded&&(t._loaded=a._loaded),t}}),c("visualcaptcha",["require","visualcaptcha/core","visualcaptcha/config"],function(a){"use strict";var e=a("visualcaptcha/core"),t=a("visualcaptcha/config");return function(a){return e(t(a=a||{}))}}),c("visualcaptcha/templates",[],function(){"use strict";var r;return r=function(a,e){for(var t in e)a=a.replace(new RegExp("{"+t+"}","g"),e[t]);return a},{buttons:function(a,e,t){var s,i;return'<div class="visualCaptcha-accessibility-button"><a href="#"><img src="{path}accessibility{retinaExtra}.png" title="{accessibilityTitle}" alt="{accessibilityAlt}" /></a></div>','<div class="visualCaptcha-refresh-button"><a href="#"><img src="{path}refresh{retinaExtra}.png" title="{refreshTitle}" alt="{refreshAlt}" /></a></div>',s='<div class="visualCaptcha-button-group"><div class="visualCaptcha-refresh-button"><a href="#"><img src="{path}refresh{retinaExtra}.png" title="{refreshTitle}" alt="{refreshAlt}" /></a></div>'+(a.supportsAudio()?'<div class="visualCaptcha-accessibility-button"><a href="#"><img src="{path}accessibility{retinaExtra}.png" title="{accessibilityTitle}" alt="{accessibilityAlt}" /></a></div>':"")+"</div>",i={path:t||"",refreshTitle:e.refreshTitle,refreshAlt:e.refreshAlt,accessibilityTitle:e.accessibilityTitle,accessibilityAlt:e.accessibilityAlt,retinaExtra:a.isRetina()?"@2x":""},r(s,i)},accessibility:function(a,e){var t;return a.supportsAudio()?('<div class="visualCaptcha-accessibility-wrapper visualCaptcha-hide"><div class="accessibility-description">{accessibilityDescription}</div><audio preload="preload"><source src="{audioURL}" type="audio/ogg" /><source src="{audioURL}" type="audio/mpeg" /></audio></div>',t={accessibilityDescription:e.accessibilityDescription,audioURL:a.audioUrl(),audioFieldName:a.audioFieldName()},r('<div class="visualCaptcha-accessibility-wrapper visualCaptcha-hide"><div class="accessibility-description">{accessibilityDescription}</div><audio preload="preload"><source src="{audioURL}" type="audio/ogg" /><source src="{audioURL}" type="audio/mpeg" /></audio></div>',t)):""},images:function(a,e){for(var t,s,i="",n=0,o=a.numberOfImages();n<o;n++)t='<div class="img"><a href="#"><img src="{imageUrl}" id="visualCaptcha-img-{i}" data-index="{i}" alt="" title="" /></a></div>',s={imageUrl:a.imageUrl(n),i:n},i+=r(t,s);return t='<p class="visualCaptcha-explanation">{explanation}</p><div class="visualCaptcha-possibilities">{images}</div>',s={imageFieldName:a.imageFieldName(),explanation:e.explanation.replace(/ANSWER/,a.imageName()),images:i},r(t,s)},audioInput:function(a){var e;return'<input class="form-control audioField" type="text" name="{audioFieldName}" value="" autocomplete="off" />',e={audioFieldName:a.audioFieldName()},r('<input class="form-control audioField" type="text" name="{audioFieldName}" value="" autocomplete="off" />',e)},imageInput:function(a,e){var t;return'<input class="form-control imageField" type="hidden" name="{imageFieldName}" value="{value}" readonly="readonly" />',t={imageFieldName:a.imageFieldName(),value:a.imageValue(e)},r('<input class="form-control imageField" type="hidden" name="{imageFieldName}" value="{value}" readonly="readonly" />',t)},namespaceInput:function(a){var e,t=a.namespace();return t&&0!==t.length?('<input type="hidden" name="{fieldName}" value="{value}" />',e={fieldName:a.namespaceFieldName(),value:t},r('<input type="hidden" name="{fieldName}" value="{value}" />',e)):""}}}),c("visualcaptcha/language",[],function(){"use strict";return{accessibilityAlt:"Sound icon",accessibilityTitle:"Accessibility option: listen to a question and answer it!",accessibilityDescription:"Type below the <strong>answer</strong> to what you hear. Numbers or words:",explanation:"Click or touch the <strong>ANSWER</strong>",refreshAlt:"Refresh/reload icon",refreshTitle:"Refresh/reload: get new images and accessibility option!"}}),c("visualcaptcha.jquery",["jquery","visualcaptcha","visualcaptcha/templates","visualcaptcha/language"],function(l,i,c,e){"use strict";var t,n,o,r,d,u,p;t=function(a,e){l.get(a,e,"json")},n=function(){},o=function(a,e,t){var s;s=c.namespaceInput(t)+c.accessibility(t,a.language)+c.images(t,a.language)+c.buttons(t,a.language,a.imgPath),e.html(s)},r=function(a){var e,t=l(this).closest(".visualCaptcha"),s=t.find(".visualCaptcha-accessibility-wrapper"),i=t.find(".visualCaptcha-possibilities"),n=t.find(".visualCaptcha-explanation"),o=s.find("audio");s.hasClass("visualCaptcha-hide")?(i.toggleClass("visualCaptcha-hide"),n.toggleClass("visualCaptcha-hide"),i.find(".img").removeClass("visualCaptcha-selected"),n.find("input").val(""),e=c.audioInput(t.data("captcha")),l(e).insertBefore(o),s.toggleClass("visualCaptcha-hide"),o[0].load(),o[0].play()):(o[0].pause(),s.toggleClass("visualCaptcha-hide"),s.find("input").remove(),n.toggleClass("visualCaptcha-hide"),i.toggleClass("visualCaptcha-hide")),a.preventDefault()},d=function(a){var e,t,s,i=l(this),n=i.closest(".visualCaptcha"),o=n.find(".visualCaptcha-possibilities"),r=n.find(".visualCaptcha-explanation");(t=r.find("input"))&&(t.remove(),o.find("a").removeClass("visualCaptcha-selected")),i.addClass("visualCaptcha-selected"),e=i.find("img").data("index"),s=c.imageInput(n.data("captcha"),e),r.append(l(s)),a.preventDefault()},u=function(a){l(this).closest(".visualCaptcha").data("captcha").refresh(),a.preventDefault()},p=function(a){var e=a.find(".imageField"),t=a.find(".audioField"),s=!(!e.val()&&!t.val());return s?{valid:s,name:e.val()?e.attr("name"):t.attr("name"),value:e.val()?e.val():t.val()}:{valid:s}},l.fn.visualCaptcha=function(a){var s;return s=l.extend({imgPath:"/",language:e,captcha:{request:t}},a),this.addClass("visualCaptcha").on("click",".visualCaptcha-accessibility-button",r).on("click",".visualCaptcha-refresh-button",u).on("click",".visualCaptcha-possibilities a",d),this.each(function(){var a,e,t=l(this);e=l.extend(s.captcha,{_loading:n.bind(null,s,t),_loaded:o.bind(null,s,t)}),void 0!==t.data("namespace")&&(e.namespace=t.data("namespace")),(a=i(e)).getCaptchaData=p.bind(null,t),t.data("captcha",a)})}}),c("jquery",function(){return a}),i("visualcaptcha.jquery")}),function(i){"use strict";var n=function(a,e){this.$element=i(a),this.options=i.extend({},n.defaults,e)};n.defaults={transition_delay:300,refresh_speed:50,display_text:"none",use_percentage:!0,percent_format:function(a){return a+"%"},amount_format:function(a,e,t){return a+" / "+e},update:i.noop,done:i.noop,fail:i.noop},n.prototype.transition=function(){var o=this.$element,r=o.parent(),l=this.$back_text,c=this.$front_text,d=this.options,u=parseInt(o.attr("data-transitiongoal")),p=parseInt(o.attr("aria-valuemin"))||0,h=parseInt(o.attr("aria-valuemax"))||100,f=r.hasClass("vertical"),m=d.update&&"function"==typeof d.update?d.update:Progressbar.defaults.update,b=d.done&&"function"==typeof d.done?d.done:Progressbar.defaults.done,a=d.fail&&"function"==typeof d.fail?d.fail:Progressbar.defaults.fail;if(isNaN(u))a("data-transitiongoal not set");else{var e,g=Math.round(100*(u-p)/(h-p));if("center"===d.display_text&&!l&&!c)this.$back_text=l=i("<span>").addClass("progressbar-back-text").prependTo(r),this.$front_text=c=i("<span>").addClass("progressbar-front-text").prependTo(o),f?(e=r.css("height"),l.css({height:e,"line-height":e}),c.css({height:e,"line-height":e}),i(window).resize(function(){e=r.css("height"),l.css({height:e,"line-height":e}),c.css({height:e,"line-height":e})})):(e=r.css("width"),c.css({width:e}),i(window).resize(function(){e=r.css("width"),c.css({width:e})}));setTimeout(function(){var a,e,t,s,i;f?o.css("height",g+"%"):o.css("width",g+"%");var n=setInterval(function(){s=f?(t=o.height(),r.height()):(t=o.width(),r.width()),a=Math.round(100*t/s),e=Math.round(p+t/s*(h-p)),g<=a&&(a=g,e=u,b(o),clearInterval(n)),"none"!==d.display_text&&(i=d.use_percentage?d.percent_format(a):d.amount_format(e,h,p),"fill"===d.display_text?o.text(i):"center"===d.display_text&&(l.text(i),c.text(i))),o.attr("aria-valuenow",e),m(a,o)},d.refresh_speed)},d.transition_delay)}};var a=i.fn.yopprogressbar;i.fn.yopprogressbar=function(s){return this.each(function(){var a=i(this),e=a.data("bs.progressbar"),t="object"==typeof s&&s;e&&t&&i.extend(e.options,t),e||a.data("bs.progressbar",e=new n(this,t)),e.transition()})},i.fn.yopprogressbar.Constructor=n,i.fn.yopprogressbar.noConflict=function(){return i.fn.yopprogressbar=a,this}}(window.jQuery);var YOPPollReCaptchaElements=[],YOPPollOnLoadRecaptcha=function(){jQuery(".basic-yop-poll-container").each(function(){"2"===jQuery(this).attr("data-cap")&&(YOPPollReCaptchaElements[jQuery(this).attr("data-uid")]=grecaptcha.render("yop-poll-captcha-"+jQuery(this).attr("data-uid"),{sitekey:objectL10n.yopPollParams.apiParams.reCaptcha.siteKey,theme:"light"}))})};jQuery(document).ready(function(f){var a,n,s,o,r,l,c,d,u,p,h,m,b,e,g,v,w={accessibilityAlt:objectL10n.yopPollParams.captchaParams.accessibilityAlt,accessibilityTitle:objectL10n.yopPollParams.captchaParams.accessibilityTitle,accessibilityDescription:objectL10n.yopPollParams.captchaParams.accessibilityDescription,explanation:objectL10n.yopPollParams.captchaParams.explanation,refreshAlt:objectL10n.yopPollParams.captchaParams.refreshAlt,refreshTitle:objectL10n.yopPollParams.captchaParams.refreshTitle},y=[];YOPPollBasicGetPollCookieData=function(a){var e,t,s,i=localStorage.getItem("ypdata"),n="";if(null!==i)for(e=i.split("#"),s=0;s<e.length;s++)(t=e[s].split("|"))[0]===a&&(n=t[1],s=e.length);return n},YOPPollBasicGetCookieData=function(){var a,e,t,s=localStorage.getItem("ypdata"),i=[];if(null!==s)for(a=s.split("#"),t=0;t<a.length;t++)e=a[t].split("|"),i.push(e);return i},YOPPollBasicSetCookieData=function(a,e){var t=getCookieData(),s="",n=!0;if(0===t.length)s=a+"|"+e;else{for(i=0;i<t.length;i++)a===t[i][0]?(s+=a+"|"+e,n=!1):s+=t[i][0]+"|"+t[i][1],i<t.length-1&&(s+="#");!0===n&&(s+="#"+a+"|"+e)}localStorage.setItem("ypdata",s)},a=function(a,e){f('.basic-yop-poll-container[data-id="'+a+'"]').find('input[name="_token"]').val(e)},n=function(e,t){f.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",data:{action:"yop_poll_is_user_logged_in"}}).done(function(a){if(!0===a.success)switch(1,t){case"vote":h(e,"wordpress");break;case"show-results":r(e)}else 0,"vote"===t&&f(".basic-vote").popupWindow({windowURL:"http://yahoo.com",windowName:"YOPPollW",height:500,width:450,centerScreen:1})})},g=function(a,e,t){switch(e){case"asc":e="ASC";break;case"desc":e="DESC";break;default:e="ASC"}switch(t){case"alphabetical":resultsSorted=helper.arr.multisort(a,["text"],[e]);break;case"number-of-votes":resultsSorted=helper.arr.multisort(a,["votes"],[e]);break;default:resultsSorted=a}return a},s=function(a,o){var r=[],l=f(a).attr("data-sort-results-by"),c=f(a).attr("data-sort-results-rule");return f(a).find(".basic-question").each(function(){var a,e,t,s={},i=f(this).attr("data-display-others"),n=[];if(s.id=f(this).attr("data-id"),s.type=f(this).attr("data-question-type"),s.text=f(this).find(".basic-question-title").text(),s.answers=[],f(this).find(".basic-answers").find(".basic-answer").not(".basic-other-answer").each(function(){var a=[];a.id=f(this).attr("data-id"),a.text=f(this).find(".basic-text").text(),a.type=f(this).attr("data-type"),a.color=f(this).attr("data-color"),a.votes=f(this).attr("data-vn"),s.answers.push(a)}),!0===o&&"yes"===i&&(a=f(this).attr("data-others"),otherAnswersColorForResults=f(this).attr("data-others-color"),""!==a))for(e=JSON.parse(a),t=0;t<e.length;t++)n.id=0,n.type="text",n.text=e[t].an,n.color=otherAnswersColorForResults,n.votes=e[t].vn,s.answers.push(n),n=[];s.answers=g(s.answers,c,l),r.push(s)}),r},o=function(a,e){var t=s(a,e);l(a,t)},r=function(d){var u=f(d).attr("data-show-results-as"),p=f(d).attr("data-sort-results-by"),h=f(d).attr("data-sort-results-rule");f(d).find(".basic-question").each(function(){var t,s=f(this).attr("data-question-type"),i=[],a=[],e=[],n=[],o=[],r=[],l=0,c=0;switch(s){case"text":default:t=f(this).find("li.basic-answer .basic-text").first().css(["color","font-size","font-weight"])}switch(f(this).find('.basic-answer:not(".basic-other-answer")').each(function(a){var e={};e.id=f(this).attr("data-id"),"text"===s&&(e.label=f(this).find(".basic-text").text()),e.backgroundColor=f(this).attr("data-color"),e.votes=parseInt(f(this).attr("data-vn"),10),i.push(e),l+=e.votes}),h){case"asc":h="ASC";break;case"desc":h="DESC";break;default:h="ASC"}switch(p){case"alphabetical":r=helper.arr.multisort(i,["label"],[h]);break;case"number-of-votes":r=helper.arr.multisort(i,["votes"],[h]);break;default:r=i}for(c=0;c<r.length;c++)a.push(r[c].id),e.push(r[c].label),o.push(r[c].votes),n.push(r[c].backgroundColor);switch(resultsDataForChart={labels:e,datasets:[{data:o,backgroundColor:n}]},u){case"bar":f(this).find('.basic-answer:not(".basic-other-answer")').each(function(a){var e=parseInt(f(this).attr("data-vn"),10);answerResultsPercentages=YOPPollBasicIsResultsShowPercentages(d,e,l),answerResultsVotes=YOPPollBasicIsResultsShowVotes(d,e),!0===answerResultsPercentages.show&&"text"===s&&f(this).find(".basic-answer-label").append('<span class="basic-answer-results-details" style="color:'+t.color+"; font-size:"+t["font-size"]+"; font-weight:"+t["font-weight"]+';">'+answerResultsPercentages.content+"</span>"),!0===answerResultsVotes.show&&"text"===s&&f(this).find(".basic-answer-label").append('<span class="basic-answer-total-votes" style="color:'+t.color+"; font-size:"+t["font-size"]+"; font-weight:"+t["font-weight"]+';">'+answerResultsVotes.content+"</span>"),0<e&&f(this).append('<div class="progress" style=""><div class="progress-bar six-sec-ease-in-out" role="progressbar" data-transitiongoal="'+e+'" aria-valuemax="'+l+'" style="background-image:none; background-color: '+f(this).attr("data-color")+';"></div></div>')}),f(this).find(".progress .progress-bar").yopprogressbar()}})},l=function(a,e){var t,s=0;for(f(a).find('.basic-element[data-type!="question"]').hide(),f(a).find(".basic-answers").hide(),f(a).find(".basic-captcha").hide(),f(a).find(".basic-stats").hide(),f(a).find(".basic-vote-button").hide(),f(a).find(".basic-results-button").hide(),"true"!==f(a).attr("data-show-results-only")&&f(a).find(".basic-back-to-vote-button").show(),s=0;s<e.length;s++)switch(t=f(a).find('.basic-question[data-id="'+e[s].id+'"]').attr("data-display"),e[s].type){case"text-question":default:YopPollBasicShowResultsForTextQuestion(a,e[s],t)}},YOPPollBasicIsResultsShowPercentages=function(a,e,t){var s=[];return-1!==f(a).attr("data-resdet").indexOf("percentages")?(s.show=!0,s.content=0<t?100*e/t:0,s.content===Math.round(s.content)?s.content=Math.round(s.content)+"%":s.content=Number(Math.round(s.content+"e2")+"e-2").toFixed(2)+"%"):(s.show=!1,s.content=""),s},YOPPollBasicIsResultsShowVotes=function(a,e){var t=[];return-1!==f(a).attr("data-resdet").indexOf("votes-number")?(t.show=!0,1===parseInt(e,10)?votesText=objectL10n.yopPollParams.resultsParams.singleVote:votesText=objectL10n.yopPollParams.resultsParams.multipleVotes,t.content=" ("+e+" "+votesText+")"):(t.show=!1,t.content=""),t},YOPPollBasicGetClassForColumns=function(a){var e="";switch(String(a)){case"2":e="col-xs-6 col-sm-6 col-md-6";break;case"3":e="col-xs-6 col-sm-6 col-md-4";break;case"4":e="col-xs-6 col-sm-6 col-md-3";break;case"5":e="col-xs-6 col-sm-6 cols-5";break;case"6":e="col-xs-6 col-sm-6 col-md-2";break;case"7":e="col-xs-6 col-sm-6 cols-7";break;case"8":e="col-xs-6 col-sm-6 cols-8";break;case"9":e="col-xs-6 col-sm-6 cols-9";break;case"10":e="col-xs-6 col-sm-6 cols-10";break;case"11":e="col-xs-6 col-sm-6 cols-11";break;case"12":e="col-xs-6 col-sm-6 col-md-1"}return e},YopPollBasicShowResultsForTextQuestion=function(a,e,t){var s,i,n,o=f(a).attr("data-show-results-as"),r=f(a).find('.basic-question[data-id="'+e.id+'"]').attr("data-colnum"),l=f(a).find('.basic-question[data-id="'+e.id+'"]').find("li.basic-answer").first().css(["padding-top","padding-left"]),c=f(a).find('.basic-question[data-id="'+e.id+'"]').find("li.basic-answer .basic-text").first().css(["color","font-size","font-weight"]),d=0,u=0;for(u=0;u<e.answers.length;u++)d+=parseInt(e.answers[u].votes,10);switch(t){case"horizontal":ulClass=" basic-h-answers",liClass=" "+YOPPollBasicGetClassForColumns(e.answers.length),divClass=" basic-text-horizontal";break;case"columns":ulClass=" basic-h-answers basic-cols-display",liClass=" "+YOPPollBasicGetClassForColumns(r),divClass=" basic-text-horizontal";break;default:ulClass="",liClass="",divClass=" basic-text-vertical"}switch(o){case"bar":for(s='<ul class="basic-answers-results basic-answers'+ulClass+'">',u=0;u<e.answers.length;u++)i=YOPPollBasicIsResultsShowPercentages(a,e.answers[u].votes,d),n=YOPPollBasicIsResultsShowVotes(a,e.answers[u].votes),s+='<li class="basic-answer'+liClass+'" style="padding:'+l["padding-top"]+" "+l["padding-top"]+';" data-id="'+e.answers[u].id+'" data-type="text" data-vn="'+e.answers[u].votes+'" data-color="'+e.answers[u].color+'"><div class="basic-answer-content'+divClass+'"><span class="basic-text" style="color:'+c.color+"; font-size:"+c["font-size"]+"; font-weight:"+c["font-weight"]+';">'+e.answers[u].text+"</span>",!0===i.show&&(s+='<span class="basic-answer-results-details" style="color:'+c.color+"; font-size:"+c["font-size"]+"; font-weight:"+c["font-weight"]+';">'+i.content+"</span>"),!0===n.show&&(s+='<span class="basic-answer-total-votes" style="color:'+c.color+"; font-size:"+c["font-size"]+"; font-weight:"+c["font-weight"]+';">'+n.content+"</span>"),s+="</div>",0<e.answers[u].votes&&(s+='<div class="progress" style=""><div class="progress-bar six-sec-ease-in-out" role="progressbar" data-transitiongoal="'+e.answers[u].votes+'" aria-valuemax="'+d+'" style="background-image:none; background-color: '+e.answers[u].color+';"></div></div>'),s+="</li>";s+="</ul>",f(a).find('.basic-question[data-id="'+e.id+'"]').append(s),f(a).find(".progress .progress-bar").yopprogressbar()}},c=function(a,e){var t=0;for(t=0;t<e.length;t++)f(a).find('.basic-question[data-id="'+e[t].id+'"]').replaceWith(e[t].code)},d=function(a,e){var t=0,s=0;for(t=0;t<e.length;t++)for(s=0;s<e[t].answers.length;s++)f(a).find('.basic-question[data-id="'+e[t].id+'"]').find('.basic-answer[data-id="'+e[t].answers[s].id+'"]').attr("data-vn",e[t].answers[s].votes)},u=function(a){f(a).find(".basic-answers-results").remove(),f(a).find(".basic-chart-container").remove()},v=function(a,e){var t=JSON.parse(e),s=0;for(s=0;s<t.length;s++)f(a).find('.basic-element[data-id="'+t[s].id+'"]').attr("data-others",t[s].others)},f(".basic-yop-poll-container").each(function(){var a=f(this).attr("data-show-results-moment"),e=f(this).attr("data-show-results-only"),t=f(this).attr("data-uid"),s=f(this).attr("data-css");"1"===f(this).attr("data-cap")&&(y[f(this).attr("data-uid")]=f("#yop-poll-captcha-"+f(this).attr("data-uid")).visualCaptcha({imgPath:objectL10n.yopPollParams.captchaParams.imgPath,captcha:{url:objectL10n.yopPollParams.captchaParams.url,numberOfImages:5,namespace:"yop-poll-captcha-"+f(this).attr("data-uid"),routes:{start:"?_a=start",image:"?_a=image",audio:"?_a=audio"},callbacks:{loading:function(a){},loaded:function(a){}}},language:w})),void 0!==e&&"true"===e?(u(f(this)),f(this).find(".basic-element").each(function(){"question"===f(this).attr("data-type")?(f(this).find('input[type="radio"]').hide(),f(this).find('input[type="checkbox"]').hide(),f(this).find(".basic-other-answer").hide()):f(this).hide()}),f(this).find(".basic-gdpr").hide(),f(this).find(".visualCaptcha").hide(),f(this).find(".basic-vote-button").hide(),f(this).find(".basic-results-button").hide(),f(this).find(".basic-back-to-vote-button").hide(),o(f(this),!1)):void 0!==a&&-1!==a.indexOf("before-vote")&&("registered"===f(this).attr("data-show-results-to")?n(f(this),"show-results"):r(f(this))),""!==s&&f("head").append('<style type="text/css" id="yop-poll-custom-css-'+t+'">'+s.replace("data-uid",'data-uid="'+t+'"')+"</style>")}),f('.basic-yop-poll-container input[type="text"][data-type="other-answer"]').focus(function(){var a=f(this).closest(".basic-question").attr("data-id");f('.basic-yop-poll-container input[name="answer['+a+']"][value="0"]').prop("checked",!0)}),f('.basic-yop-poll-container input[type="text"][data-type="other-answer"]').blur(function(){""!==f(this).val().trim()&&f(this).parent(".basic-text").removeClass("has-error")}),f('.basic-yop-poll-container input[type="text"][data-type="cfield"]').blur(function(){""!==f(this).val().trim()&&f(this).parent(".basic-custom-field").removeClass("has-error")}),f('.basic-yop-poll-container .basic-answer input[type="radio"], .basic-yop-poll-container .basic-answer input[type="checkbox"]').on("ifChecked",function(a){"0"===a.currentTarget.defaultValue?f(this).closest(".basic-question").find('input[data-type="other-answer"]').focus():f(this).closest(".basic-question").find('input[data-type="other-answer"]').blur()}),p=function(a,e,t,s){var i,n,o=0,r=[];return f(a).find(".basic-element").each(function(){var a=f(this).attr("data-type"),e=f(this).attr("data-id"),t=[];switch(a){case"question":f(this).find('input[name="answer['+e+']"][value!="0"]:checked').each(function(){t.push({id:f(this).val(),data:!0})}),1===f(this).find('input[name="answer['+e+']"][value="0"]:checked').length&&t.push({id:0,data:f(this).find('input[name="other['+e+']"]').val()}),r[o]={id:e,type:"question",data:t},o++;break;case"custom-field":r[o]={id:e,type:"custom-field",data:f(this).find('input[name="cfield['+e+']"]').val()},o++}}),i="2"===f(a).attr("data-cap")?grecaptcha.getResponse(YOPPollReCaptchaElements[f(a).attr("data-uid")]):"",n="yes"===f(a).attr("data-gdpr")&&"consent"===f(a).attr("data-gdpr-sol")?f(a).find(".gdpr-consent").val():"",{pollId:f(a).attr("data-id"),pollUid:f(a).attr("data-uid"),imageCaptcha:f(a).find(".imageField").val(),audioCaptcha:f(a).find(".audioField").val(),reCaptcha:i,trackingId:f(a).attr("data-tid"),gdprConsent:n,data:r,user:{id:s.id,first_name:s.firstName,last_name:s.lastName,email:s.email,type:e,f_data:t}}},h=function(e,a,t){var s,i=f(e).find(".basic-message").attr("data-success"),n=f(e).find(".basic-message").attr("data-error");return s=p(e,a,"",t),f.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",data:{action:"yop_poll_record_vote",_token:f(e).find('input[name="_token"]').val(),data:JSON.stringify(s)}}).done(function(a){f(e).find(".basic-message").removeClass("show").addClass("hide"),f(e).find(".basic-overlay").addClass("hide"),f(e).find(".basic-gdpr").hide(),f(e).find(".basic-captcha").hide(),!0===a.success?(response=a.data,u(e),""!==response.total_votes&&f(e).find(".basic-stats-votes-number").text(response.total_votes),""!==response.total_answers&&f(e).find(".basic-stats-answers-number").text(response.total_answers),!0===response.rebuild&&c(e,JSON.parse(response.elements)),""!==response.others&&v(e,response.others),!0===response.show_results?(d(e,JSON.parse(response.results)),l(e,JSON.parse(response.results))):(f(e).find(".basic-message").addClass("basic-success").removeClass("hide").css("borderLeftColor",i),f(e).find(".basic-message-text").text(objectL10n.yopPollParams.voteParams.thankYou),f("html, body").animate({scrollTop:f(f(e).closest(".bootstrap-yop")).offset().top},1500,"linear")),"yes"===response.redirect&&window.setTimeout(function(){window.location.href=response.redirect_to},1e3*response.redirect_after)):(f(e).find(".basic-message").addClass("basic-error").removeClass("hide").css("borderLeftColor",n),f(e).find(".basic-message-text").text(a.data),f("html, body").animate({scrollTop:f(f(e).closest(".bootstrap-yop")).offset().top},1500,"linear"))}).fail(function(a,e){}),1},m=function(e){var t=f(e).attr("data-id"),s=f(e).attr("data-uid"),i=[];f.ajax({type:"POST",url:objectL10n.yopPollParams.urlParams.ajax,dataType:"json",async:!1,data:{action:"yop_poll_is_user_logged_in"},success:function(a){!0===a.success?(i.id="",i.firstName="",i.lastName="",i.email="",h(e,"wordpress",i)):myWindow=f(".basic-vote").popupWindow({windowURL:objectL10n.yopPollParams.urlParams.wpLogin+encodeURIComponent("&poll_id="+t+"&puid="+s),windowName:"",height:500,location:1,menubar:1,resizable:0,scrollbars:1,status:0,width:450,toolbar:1,centerScreen:1})}})},f(".basic-yop-poll-container .basic-vote-button").click(function(a){var t,e,s,i,n,o,r,l=[],c=!1;if(t=f(this).closest(".basic-yop-poll-container"),e=f(t).attr("data-id"),s=f(t).attr("data-uid"),r=f(t).find(".basic-message").attr("data-error"),""!==e){if(i=f(t).attr("data-access").split(","),f(t).find(".basic-element").each(function(){var a=f(this).attr("data-type"),e=f(this).attr("data-id");switch(a){case"question":n=f(this).attr("data-min"),o=f(this).attr("data-max"),!1===c&&0===f(this).find('input[name="answer['+e+']"]:checked').length&&(f(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noAnswersSelected),f(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",r),f(t).find(".basic-overlay").addClass("hide"),c=!0,f("html, body").animate({scrollTop:f(f(t).closest(".bootstrap-yop")).offset().top},1500,"linear")),!1===c&&n>f(this).find('input[name="answer['+e+']"]:checked').length&&(f(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.minAnswersRequired.replace("{min_answers_allowed}",n)),f(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",r),f(t).find(".basic-overlay").addClass("hide"),c=!0,f("html, body").animate({scrollTop:f(f(t).closest(".bootstrap-yop")).offset().top},1500,"linear")),!1===c&&o<f(this).find('input[name="answer['+e+']"]:checked').length&&(f(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.maxAnswersRequired.replace("{max_answers_allowed}",o)),f(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",r),f(t).find(".basic-overlay").addClass("hide"),c=!0,f("html, body").animate({scrollTop:f(f(t).closest(".bootstrap-yop")).offset().top},1500,"linear")),!1===c&&1===f(this).find('input[name="answer['+e+']"][value="0"]:checked').length&&""===f(this).find('input[name="other['+e+']"]').val().trim()&&(f(this).find('input[name="other['+e+']"]').focus(),f(this).find('input[name="other['+e+']"]').closest(".basic-text").addClass("has-error"),f(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noAnswerForOther),f(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",r),f(t).find(".basic-overlay").addClass("hide"),c=!0,f("html, body").animate({scrollTop:f(f(t).closest(".bootstrap-yop")).offset().top},1500,"linear"));break;case"custom-field":!1===c&&"yes"===f(this).attr("data-required")&&""===f(this).find('input[name="cfield['+e+']"]').val().trim()&&(f(this).addClass("has-error"),f(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noValueForCustomField.replace("{custom_field_name}",f(this).find("label").text())),f(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",r),f(t).find(".basic-overlay").addClass("hide"),c=!0,f("html, body").animate({scrollTop:f(f(t).closest(".bootstrap-yop")).offset().top},1500,"linear"))}}),!1===c&&"yes"===f(t).attr("data-gdpr")&&"consent"===f(t).attr("data-gdpr-sol")&&!1===f(t).find(".gdpr-consent").is(":checked")&&(f(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.consentNotChecked),f(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",r),f(t).find(".basic-overlay").addClass("hide"),c=!0,f("html, body").animate({scrollTop:f(f(t).closest(".bootstrap-yop")).offset().top},1500,"linear")),!1===c&&"1"===f(t).attr("data-cap")&&!1===y[s].data("captcha").getCaptchaData().valid&&(f(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.noCaptchaSelected),f(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",r),f(t).find(".basic-overlay").addClass("hide"),c=!0,f("html, body").animate({scrollTop:f(f(t).closest(".bootstrap-yop")).offset().top},1500,"linear")),!1===c)if(f(t).find(".basic-message").addClass("hide"),f(t).find(".basic-overlay").removeClass("hide"),1===i.length)switch(b(t),i[0]){case"guest":l.id="",l.firstName="",l.lastName="",l.email="",h(t,"anonymous",l);break;case"wordpress":m(t)}else f(t).find(".basic-preloader").addClass("hide"),f(t).find(".basic-vote-options").removeClass("hide")}else f(t).find(".basic-message").addClass("show basic-error").css("borderLeftColor",r),f(t).find(".basic-overlay").addClass("hide"),f(t).find(".basic-message").find("p").text(objectL10n.yopPollParams.voteParams.invalidPoll);a.preventDefault()}),f(".basic-yop-poll-container .basic-anonymous").click(function(a){var e=f(this).closest(".basic-yop-poll-container"),t=[];b(e),t.id="",t.firstName="",t.lastName="",t.email="",h(e,"anonymous",t),a.preventDefault()}),f(".basic-yop-poll-container .basic-wordpress").click(function(a){var e=f(this).closest(".basic-yop-poll-container");b(e),m(e),a.preventDefault()}),f(".basic-yop-poll-container .basic-results-button").click(function(a){var e=f(this).closest(".basic-yop-poll-container");u(e),f(e).find(".basic-gdpr").hide(),f(e).find(".basic-captcha").hide(),f(e).find(".basic-stats").hide(),f(e).find(".basic-vote-button").hide(),f(e).find(".basic-results-button").hide(),f(e).find(".basic-back-to-vote-button").show(),o(e,!0),a.preventDefault()}),f(".basic-yop-poll-container .basic-back-to-vote-button").click(function(a){var e=f(this).closest(".basic-yop-poll-container"),t=f(e).attr("data-show-results-moment");u(e),f(e).find(".basic-element").each(function(){"question"===f(this).attr("data-type")?(f(this).find('input[type="radio"]').show(),f(this).find('input[type="checkbox"]').show(),f(this).find(".basic-answers").show(),f(this).find(".basic-other-answer").show()):f(this).show()}),f(e).find(".basic-gdpr").show(),f(e).find(".basic-captcha").show(),f(e).find(".basic-stats").show(),f(e).find(".basic-vote-button").show(),f(e).find(".basic-results-button").show(),f(e).find(".basic-back-to-vote-button").hide(),void 0!==t&&-1!==f(e).attr("data-show-results-moment").indexOf("before-vote")&&(f(e).find(".basic-answer-results-details").remove(),f(e).find(".basic-answer-total-votes").remove(),f(e).find(".progress").remove(),"registered"===f(e).attr("data-show-results-to")?n(f(e),"show-results"):r(e)),a.preventDefault()}),b=function(a){f(a).find(".basic-overlay").find(".basic-vote-options").addClass("hide"),f(a).find(".basic-overlay").find(".basic-preloader").removeClass("hide")},e=function(a){},window.YOPPollReCaptchaFilled=e,window.YOPPollSendBasicVote=h,window.YOPPollBasicUpdateToken=a});